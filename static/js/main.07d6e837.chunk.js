(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),l=a(2),i=a.n(l),o=a(9),u=a(3),m=a(4),d=a(6),p=a(5),h=a(7),v=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedSourceId:null,selectedSourceName:null,selectedSourceDescription:null},a.sourceClick=function(e){a.setState({selectedSourceId:e.target.value})},a.sourceSubmit=function(e){e.preventDefault(),a.props.availableSources.filter(function(e){a.state.selectedSourceId===e.id&&a.setState({selectedSourceName:e.name,selectedSourceDescription:e.description})}),a.props.onSourceSelect(a.state.selectedSourceId)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.availableSources.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id,"data-value":e.description},e.name)});return r.a.createElement("div",{className:"ui two column stackable grid"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"header"},"found ",e.length," sources"),r.a.createElement("form",{onSubmit:this.sourceSubmit},r.a.createElement("select",{onChange:this.sourceClick,className:"ui fluid dropdown"},e),r.a.createElement("br",null),r.a.createElement("button",{className:"ui button primary",type:"submit",value:"Submit"},"Submit")))),this.state.selectedSourceName?r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui info message"},r.a.createElement("h2",{className:"header"},this.state.selectedSourceName),r.a.createElement("p",null,this.state.selectedSourceDescription))):r.a.createElement("div",null))}}]),t}(r.a.Component),f=function(e){var t=e.article,a=new Date(t.publishedAt).toLocaleDateString()+" at "+new Date(t.publishedAt).toLocaleTimeString();return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui top attached info message"},r.a.createElement("h4",null,t.title)),r.a.createElement("div",{className:"ui bottom attached segment"},t.urlToImage?r.a.createElement("img",{src:t.urlToImage,className:"ui fluid rounded image",alt:t.description}):r.a.createElement("div",{className:"ui fluid placeholder"},r.a.createElement("div",{className:"rectangular image"})),r.a.createElement("br",null),r.a.createElement("p",null,t.description),r.a.createElement("p",null,"Published on ",a),r.a.createElement("a",{className:"ui primary button",href:t.url,target:"_blank",rel:"noopener noreferrer"},"Read More")))},E=function(e){var t=e.sourceHeadlines.map(function(e,t){return r.a.createElement(f,{article:e,key:t})});return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"ui two column stackable grid container"},t))},S=a(17),b=a.n(S).a.create({baseURL:"https://newsapi.org/v2/",headers:{Authorization:"apiKey=7473e3ba38184699a3d401262f418dd3"}}),g=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sources:[],selectedSource:null,isLoading:!0,error:null,sourceHeadlines:[]},a.getSources=Object(o.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("sources?".concat(b.defaults.headers.Authorization));case 2:200===(t=e.sent).status&&(n=t.data.sources.filter(function(e){if("en"===e.language&&"Breitbart News"!==e.name)return e}),a.setState({sources:n,isLoading:!1}));case 4:case"end":return e.stop()}},e)})),a.onSourceSelect=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedSource:t}),e.next=3,b.get("top-headlines?sources=".concat(t,"&").concat(b.defaults.headers.Authorization));case 3:200===(n=e.sent).status&&a.setState({sourceHeadlines:n.data.articles});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getSources()}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui message orange "},r.a.createElement("h1",{className:"ui header"}," Latest Headlines App"),r.a.createElement("p",null,"Select a news source and get the 10 latest headlines")))),this.state.isLoading?r.a.createElement("div",{className:"row"},"News sources are loading please wait"):r.a.createElement("div",{className:"row"},r.a.createElement(v,{availableSources:this.state.sources,onSourceSelect:this.onSourceSelect})),0!==this.state.sourceHeadlines.length?r.a.createElement(E,{sourceHeadlines:this.state.sourceHeadlines}):r.a.createElement("div",null))}}]),t}(r.a.Component);s.a.render(r.a.createElement(g,null),document.querySelector("#root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.07d6e837.chunk.js.map